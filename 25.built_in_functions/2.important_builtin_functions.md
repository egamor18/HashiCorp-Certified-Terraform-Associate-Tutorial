## IMPORTANT BUILTIN FUNCTIONSS

Knowing Terraform‚Äôs **built-in functions** makes your code way more powerful and modular.
Below is a curated list of the **most important and most commonly used functions**, grouped by category, with short examples.

---

## üß© **1. String Functions**

Used to manipulate text values.

| Function                                  | Description                      | Example                                                |
| ----------------------------------------- | -------------------------------- | ------------------------------------------------------ |
| `join(separator, list)`                   | Joins list items into one string | `join("-", ["dev", "web"])` ‚Üí `"dev-web"`              |
| `split(separator, string)`                | Splits string into list          | `split(",", "a,b,c")` ‚Üí `["a","b","c"]`                |
| `replace(string, substring, replacement)` | Replace part of a string         | `replace("us-east-1", "east", "west")` ‚Üí `"us-west-1"` |
| `lower(string)` / `upper(string)`         | Convert case                     | `lower("AWS")` ‚Üí `"aws"`                               |
| `trimspace(string)`                       | Removes whitespace               | `trimspace("  hello ")` ‚Üí `"hello"`                    |
| `substr(string, offset, length)`          | Extracts substring               | `substr("terraform", 0, 4)` ‚Üí `"terr"`                 |

---

## üßÆ **2. Numeric and Math Functions**

Used for simple math operations.

| Function                            | Description              | Example               |
| ----------------------------------- | ------------------------ | --------------------- |
| `min(a, b, ...)` / `max(a, b, ...)` | Minimum or maximum value | `min(10, 5, 7)` ‚Üí `5` |
| `ceil(number)` / `floor(number)`    | Round up or down         | `ceil(2.3)` ‚Üí `3`     |
| `abs(number)`                       | Absolute value           | `abs(-10)` ‚Üí `10`     |

---

## üß† **3. Collection Functions**

Work on **lists**, **sets**, and **maps**.

| Function                      | Description                  | Example                                  |
| ----------------------------- | ---------------------------- | ---------------------------------------- |
| `length(list or map)`         | Count elements               | `length(["a", "b"])` ‚Üí `2`               |
| `merge(map1, map2)`           | Merge maps                   | `merge({a=1}, {b=2})` ‚Üí `{a=1,b=2}`      |
| `concat(list1, list2)`        | Combine lists                | `concat(["a"], ["b"])` ‚Üí `["a","b"]`     |
| `contains(list, value)`       | Check if list has value      | `contains(["a","b"], "a")` ‚Üí `true`      |
| `lookup(map, key, default)`   | Retrieve value or default    | `lookup({a=1}, "a", 0)` ‚Üí `1`            |
| `keys(map)` / `values(map)`   | Get all keys or values       | `keys({a=1,b=2})` ‚Üí `["a","b"]`          |
| `toset(list)` / `tolist(set)` | Convert between list and set | `toset(["a","a","b"])` ‚Üí `["a","b"]`     |
| `zipmap(keys, values)`        | Combine keys and values      | `zipmap(["a","b"], [1,2])` ‚Üí `{a=1,b=2}` |

---

## ‚öôÔ∏è **4. Conditional and Logical Functions**

| Function                          | Description                        | Example                                   |
| --------------------------------- | ---------------------------------- | ----------------------------------------- |
| `coalesce(v1, v2, ...)`           | First non-null value               | `coalesce(null, "default")` ‚Üí `"default"` |
| `try(expr, fallback)`             | Return first successful expression | `try(var.name, "unknown")`                |
| `can(expr)`                       | Returns true if expr can run       | `can(regex("a", 123))` ‚Üí `false`          |
| `ternary(condition, true, false)` | Conditional logic                  | `var.env == "prod" ? "secure" : "test"`   |

---

## üßæ **5. Type Conversion Functions**

| Function                         | Description          | Example                           |
| -------------------------------- | -------------------- | --------------------------------- |
| `tostring(value)`                | Convert to string    | `tostring(123)` ‚Üí `"123"`         |
| `tonumber(value)`                | Convert to number    | `tonumber("42")` ‚Üí `42`           |
| `tomap(value)` / `tolist(value)` | Convert structures   | `tomap({a=1})` ‚Üí map              |
| `jsonencode()` / `jsondecode()`  | Convert to/from JSON | `jsonencode({a=1})` ‚Üí `'{"a":1}'` |

---

## üß± **6. File and Path Functions**

| Function                           | Description                   | Example                        |
| ---------------------------------- | ----------------------------- | ------------------------------ |
| `file(path)`                       | Reads file contents           | `file("config.txt")`           |
| `filebase64(path)`                 | Reads and base64-encodes file | `filebase64("cert.pem")`       |
| `dirname(path)` / `basename(path)` | Path operations               | `dirname("/a/b/c")` ‚Üí `"/a/b"` |

---

## üïπÔ∏è **7. Miscellaneous**

| Function                            | Description             | Example                                       |
| ----------------------------------- | ----------------------- | --------------------------------------------- |
| `uuid()`                            | Generates a unique UUID | `"a3f9e..."`                                  |
| `timestamp()`                       | Current time (RFC3339)  | `"2025-10-20T19:35:00Z"`                      |
| `base64encode()` / `base64decode()` | Encode/decode data      | `base64encode("hello")` ‚Üí `"aGVsbG8="`        |
| `format(format, args...)`           | Like printf             | `format("Hello %s", "Eric")` ‚Üí `"Hello Eric"` |

---

## üß© **8. Example Combo ‚Äî Real Use**

```hcl
locals {
  region       = lower("US-EAST-1")
  env          = "dev"
  name_parts   = ["app", local.env, local.region]
  instance_tag = join("-", local.name_parts)
  tags = merge(
    { Owner = "Eric" },
    { Environment = upper(local.env) }
  )
}

output "instance_tag" {
  value = local.instance_tag
}
```

üü¢ **Output:**

```
app-dev-us-east-1
```

---
