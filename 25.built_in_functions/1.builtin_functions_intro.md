
---

# 🧩 Terraform Built-in Functions

## 🔹 Introduction

Terraform provides several **built-in functions** to help you manipulate data, format strings, combine maps, handle numbers, and manage dynamic values.
Below are some of the most useful functions with explanations and practical examples.

---

## 1️⃣ Terraform `join()` Function

### 🧩 Purpose

`join(separator, list)` combines a list of strings into **one single string**, using the specified separator.

### 🧠 Example

```hcl
variable "names" {
  type    = list(string)
  default = ["Eric", "Gamor", "Terraform"]
}

output "joined_names" {
  value = join(" ", var.names)
}
```

🟢 **Output:**

```
Eric Gamor Terraform
```

### ⚙️ Example with Commas

```hcl
output "csv_names" {
  value = join(", ", var.names)
}
```

🟢 **Output:**

```
Eric, Gamor, Terraform
```

### 💡 Practical Use Case

You can use `join()` to create **tags**, **resource names**, or **ARNs** dynamically.

```hcl
locals {
  environment_parts = ["dev", "us-east-1", "web"]
}

output "bucket_name" {
  value = join("-", local.environment_parts)
}
```

🟢 **Output:**

```
dev-us-east-1-web
```

---

## 2️⃣ Terraform `split()` Function

### 🧩 Purpose

The `split()` function **breaks a string** into a **list** using a separator.
It’s the **opposite** of `join()`.

### 🧠 Syntax

```hcl
split(separator, string)
```

* `separator`: the character or string used to split
* `string`: the text you want to break into parts

### 🧾 Example

```hcl
locals {
  sentence = "Eric,Gamor,Terraform"
}

output "split_names" {
  value = split(",", local.sentence)
}
```

🟢 **Output:**

```
["Eric", "Gamor", "Terraform"]
```

### 🔄 Using `join()` + `split()` Together

```hcl
locals {
  csv_string = "apple,banana,cherry"
  fruits     = split(",", local.csv_string)
  fruit_list = join(" | ", local.fruits)
}

output "fruits_list" {
  value = local.fruit_list
}
```

🟢 **Output:**

```
apple | banana | cherry
```

### ⚙️ Practical Example — AWS Tags

```hcl
locals {
  env_string = "dev,us-east-1,web"
  env_parts  = split(",", local.env_string)
}

output "env_parts" {
  value = local.env_parts
}

output "env_tag" {
  value = join("-", local.env_parts)
}
```

🟢 **Output:**

```
env_parts = ["dev", "us-east-1", "web"]
env_tag   = "dev-us-east-1-web"
```

---

## 3️⃣ Terraform `merge()` Function

### 🧩 Purpose

`merge()` combines **two or more maps** into a **single map**.
If a key appears in multiple maps, **the last one wins** (it overrides earlier ones).

### 🧠 Syntax

```hcl
merge(map1, map2, map3, ...)
```

### 🧾 Example

```hcl
locals {
  default_tags = {
    Environment = "dev"
    Owner       = "Eric"
  }

  extra_tags = {
    Project = "Terraform Demo"
    Owner   = "Gamor"  # Overrides previous "Owner"
  }

  all_tags = merge(local.default_tags, local.extra_tags)
}

output "merged_tags" {
  value = local.all_tags
}
```

🟢 **Output:**

```hcl
{
  Environment = "dev"
  Owner       = "Gamor"
  Project     = "Terraform Demo"
}
```

### ⚙️ Practical Example — S3 Bucket Tags

```hcl
resource "aws_s3_bucket" "example" {
  bucket = "terraform-merge-demo-bucket"

  tags = merge(
    {
      Name        = "terraform-merge-demo-bucket"
      Environment = "dev"
    },
    var.tags  # allows users to add or override tags
  )
}
```

If `var.tags` is:

```hcl
{
  Owner       = "Eric"
  Environment = "prod"
}
```

🟢 **Final tags will be:**

```hcl
{
  Name        = "terraform-merge-demo-bucket"
  Owner       = "Eric"
  Environment = "prod"
}
```

### 🔒 Use Cases

* Combine **default** and **custom** tags
* Merge **configuration maps**
* Override specific key-value pairs dynamically

---

## 4️⃣ Terraform `min()` and `max()` Functions

### 🧩 Purpose

These functions return the **minimum** or **maximum** value from a list of numbers.

### 🧠 Syntax

```hcl
max(number1, number2, ...)
min(number1, number2, ...)
```

### 🧾 Example

```hcl
variable "num_1" {
  default = 10
}

variable "num_2" {
  default = 20
}

variable "num_3" {
  default = 15
}

output "maximum" {
  value = max(var.num_1, var.num_2, var.num_3)
}

output "minimum" {
  value = min(var.num_1, var.num_2, var.num_3, 44, 20)
}
```

🟢 **Output:**

```
maximum = 20
minimum = 10
```

### ⚙️ Practical Use Case

Use `min()` and `max()` for **resource scaling**, **limits**, or **validations** in modules.

---

If you like, I can **continue and add more numbered sections** for `length()`, `contains()`, `lookup()`, and `coalesce()` to make this a **full essential Terraform functions reference**.

Do you want me to do that next?
